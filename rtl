pnpm add -D vitest jsdom @testing-library/react @testing-library/jest-dom @testing-library/user-event

vite.config
import { defineConfig } from 'vitest/config'
test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: './setup.ts',
  }

setup.ts

import "@testing-library/jest-dom"


package.json
    "test": "vitest",
    "test:watch": "vitest --watch",
    "test:run": "vitest run",
    "test:coverage": "vitest run --coverage",

tsconfing.app.ts
compilerOptions
    "types": ["vite/client", "vitest/globals", "@testing-library/jest-dom"],


test.tsx

import { render, screen } from "@testing-library/react"
import userEvent from "@testing-library/user-event"
import Login from "./login"

describe("Login component", () => {
  test("submits form with email and password", async () => {
    const onSubmit = vi.fn()
    const user = userEvent.setup()

    render(<Login onSubmit={onSubmit} />)

    const emailInput = screen.getByLabelText(/email/i)
    const passwordInput = screen.getByLabelText(/password/i)
    const button = screen.getByRole("button", { name: /login/i })

    await user.type(emailInput, "test@test.com")
    await user.type(passwordInput, "123456")
    await user.click(button)

    expect(onSubmit).toHaveBeenCalled();
    expect(onSubmit).toHaveBeenCalledWith({
      email: "test@test.com",
      password: "123456",
    })
  })
})
